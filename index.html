<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MathHaven - Tools, Puzzles & Biology</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Open+Sans:wght@400;600&family=Comic+Sans+MS&family=Brush+Script+MT&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Open Sans', sans-serif; line-height: 1.7; transition: background 0.3s, color 0.3s; }
        body.blue { background: #e6f0fa; color: #333; --primary: #2d6a4f; --accent: #40916c; --hover: #95d5b2; }
        body.red { background: #fce6e6; color: #333; --primary: #9b1d20; --accent: #d32f2f; --hover: #ff6659; }
        body.green { background: #e6f4e6; color: #333; --primary: #2e7d32; --accent: #4caf50; --hover: #81c784; }
        body.purple { background: #f2e6fa; color: #333; --primary: #6a1b9a; --accent: #9c27b0; --hover: #ce93d8; }
        body.orange { background: #fff3e6; color: #333; --primary: #e65100; --accent: #ff9800; --hover: #ffb74d; }
        body.grey { background: #eceff1; color: #333; --primary: #455a64; --accent: #607d8b; --hover: #90a4ae; }
        body.neon-pink { background: #ffebff; color: #333; --primary: #c2185b; --accent: #f06292; --hover: #f8bbd0; }
        body.galaxy-purple { background: #ede7f6; color: #333; --primary: #4a148c; --accent: #7b1fa2; --hover: #ab47bc; }
        body.cyan { background: #e0f7fa; color: #333; --primary: #006064; --accent: #00acc1; --hover: #4dd0e1; }
        body.lime { background: #f9fbe7; color: #333; --primary: #827717; --accent: #c0ca33; --hover: #dce775; }
        body.teal { background: #e0f2f1; color: #333; --primary: #00695c; --accent: #26a69a; --hover: #4db6ac; }
        body.indigo { background: #e8eaf6; color: #333; --primary: #283593; --accent: #3f51b5; --hover: #7986cb; }
        nav { background: var(--primary); padding: 15px 0; position: fixed; width: 100%; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); }
        nav .nav-container { max-width: 1300px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        nav h1 { font-family: 'Lora', serif; font-size: 1.8em; color: #fff; }
        nav ul { list-style: none; display: flex; gap: 30px; }
        nav a { color: #fff; text-decoration: none; font-weight: 600; }
        nav a:hover { color: var(--hover); }
        #themeSelect { background: var(--hover); color: var(--primary); border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; }
        header { background: linear-gradient(135deg, var(--accent), var(--hover)); padding: 100px 20px 60px; text-align: center; color: #fff; position: relative; overflow: hidden; }
        header h1 { font-family: 'Lora', serif; font-size: 3.5em; margin-bottom: 10px; }
        header p { font-size: 1.3em; max-width: 800px; margin: 0 auto; }
        header::before {
            content: "Solve Me! Think Deep! Crack It!";
            position: absolute;
            top: 10%; left: -10%;
            font-size: 4em;
            color: rgba(255, 255, 255, 0.2);
            transform: rotate(-15deg);
            font-family: 'Comic Sans MS', cursive;
            white-space: nowrap;
        }
        header::after {
            content: "HOTS Unleashed!";
            position: absolute;
            bottom: 10%; right: -5%;
            font-size: 3em;
            color: rgba(255, 255, 255, 0.15);
            transform: rotate(10deg);
            font-family: 'Brush Script MT', cursive;
        }
        .container { max-width: 1300px; margin: 60px auto; padding: 0 20px; display: none; }
        .container.active { display: block; }
        .home-content { text-align: center; }
        .home-stats { margin: 20px 0; font-size: 1.2em; }
        .emoji-banner { font-size: 2em; margin: 20px 0; }
        .featured-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
        .featured-card { background: rgba(255, 255, 255, 0.9); border-radius: 10px; padding: 20px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); }
        body.dark .featured-card { background: rgba(46, 63, 74, 0.9); }
        .quick-links { margin: 20px 0; }
        .quick-links button { margin: 0 10px; background: var(--accent); }
        .quick-links button:hover { background: var(--hover); }
        .tool-grid, .puzzle-grid, .biology-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); gap: 40px; }
        .tool-card, .puzzle-card, .biology-card { border-radius: 12px; padding: 30px; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.05); transition: transform 0.3s, box-shadow 0.3s; }
        body.light .tool-card, body.light .puzzle-card, body.light .biology-card { background: #fff; }
        body.dark .tool-card, body.dark .puzzle-card, body.dark .biology-card { background: #2e3f4a; }
        .tool-card:hover, .puzzle-card:hover, .biology-card:hover { transform: translateY(-10px); box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1); }
        h2 { font-family: 'Lora', serif; font-size: 2em; color: var(--primary); margin-bottom: 15px; }
        p { font-size: 1.1em; margin-bottom: 20px; }
        body.light p { color: #555; }
        body.dark p { color: #b0c4de; }
        .tool-input, .puzzle-input { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin: 20px 0; }
        input[type="number"], select { padding: 12px; font-size: 1em; border: 1px solid #ccc; border-radius: 6px; width: 130px; }
        body.dark input, body.dark select { background: #3b4e5a; color: #fff; border-color: #5a6e7a; }
        button { padding: 12px 25px; font-size: 1em; background: var(--accent); color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background 0.3s; }
        button:hover { background: var(--hover); }
        .result { margin-top: 20px; font-weight: 600; color: var(--accent); font-size: 1.2em; }
        .correct { animation: pop 0.5s ease; }
        .hint { font-size: 0.9em; color: #777; margin-top: 10px; cursor: pointer; }
        body.dark .hint { color: #a0b3c1; }
        .hint:hover { color: var(--accent); }
        #aiTool { margin: 20px 0; text-align: center; }
        #aiTool button { background: #1e90ff; }
        #aiTool button:hover { background: #1c6ccf; }
        #aiResult { font-style: italic; color: #1e90ff; }
        body.dark #aiResult { color: #87cefa; }
        #progressBar { width: 100%; height: 20px; background: #ddd; border-radius: 10px; overflow: hidden; margin: 20px 0; }
        #progressFill { height: 100%; background: var(--accent); transition: width 0.5s; text-align: center; color: #fff; font-weight: bold; }
        body.dark #progressBar { background: #3b4e5a; }
        canvas { border: 1px solid #ccc; margin-top: 10px; }
        body.dark canvas { border-color: #5a6e7a; }
        footer { background: var(--primary); padding: 30px; color: #fff; text-align: center; margin-top: 60px; }
        footer p { color: #fff; font-size: 1.1em; }
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @media (max-width: 768px) {
            .tool-grid, .puzzle-grid, .biology-grid, .featured-grid { grid-template-columns: 1fr; }
            nav ul { gap: 15px; }
            header h1 { font-size: 2.5em; }
            input[type="number"], select { width: 100%; }
        }
    </style>
</head>
<body class="blue">
    <nav>
        <div class="nav-container">
            <h1>MathHaven</h1>
            <ul>
                <li><a href="#home" onclick="showSection('home')">Home</a></li>
                <li><a href="#tools" onclick="showSection('tools')">Tools</a></li>
                <li><a href="#puzzles" onclick="showSection('puzzles')">Puzzles</a></li>
                <li><a href="#biology" onclick="showSection('biology')">Biology</a></li>
                <li><a href="#about" onclick="showSection('about')">About</a></li>
                <li>
                    <select id="themeSelect">
                        <option value="blue">Blue</option>
                        <option value="red">Red</option>
                        <option value="green">Green</option>
                        <option value="purple">Purple</option>
                        <option value="orange">Orange</option>
                        <option value="grey">Grey</option>
                        <option value="neon-pink">Neon Pink</option>
                        <option value="galaxy-purple">Galaxy Purple</option>
                        <option value="cyan">Cyan</option>
                        <option value="lime">Lime</option>
                        <option value="teal">Teal</option>
                        <option value="indigo">Indigo</option>
                    </select>
                </li>
            </ul>
        </div>
    </nav>

    <header id="home" class="container active">
        <div class="home-content">
            <h1>Welcome to MathHaven</h1>
            <p>Your CBSE Class 10 & JEE prep hub‚Äîtools, puzzles, and biology, all in one! üöÄ</p>
            <div class="home-stats">500+ puzzles solved | 300+ equations cracked | 10/10 vibes üåü</div>
            <div class="emoji-banner">üìö‚úñÔ∏è‚ûïüî¨üß¨</div>
            <div class="featured-grid">
                <div class="featured-card">
                    <h2>Featured Tool: Quadratic Solver</h2>
                    <p>Solve ax¬≤ + bx + c = 0 like a pro! Try below üëá</p>
                    <div class="tool-input">
                        <input type="number" id="homeQuadA" placeholder="a">
                        <input type="number" id="homeQuadB" placeholder="b">
                        <input type="number" id="homeQuadC" placeholder="c">
                        <button onclick="solveHomeQuadratic()">Solve</button>
                    </div>
                    <div class="result" id="homeQuadResult">Result: </div>
                </div>
                <div class="featured-card">
                    <h2>Featured Puzzle: Next in Line</h2>
                    <p>What‚Äôs next: 2, 4, 6, 8, ___?</p>
                    <div class="puzzle-input">
                        <input type="number" id="homePuzzleAnswer" placeholder="Answer">
                        <button onclick="checkHomePuzzle()">Check</button>
                    </div>
                    <div class="result" id="homePuzzleResult">Result: </div>
                </div>
            </div>
            <div class="quick-links">
                <button onclick="showSection('tools')">Explore Tools üõ†Ô∏è</button>
                <button onclick="showSection('puzzles')">Solve Puzzles üß©</button>
                <button onclick="showSection('biology')">Dive into Biology üß¨</button>
            </div>
        </div>
    </header>

    <div class="container" id="tools">
        <h2>Mathematical Tools</h2>
        <p>Power up your CBSE & JEE skills!</p>
        <div class="tool-grid">
            <div class="tool-card">
                <h2>Basic Calculator</h2>
                <p>Add, subtract, multiply, divide.</p>
                <div class="tool-input">
                    <input type="number" id="num1" placeholder="First number">
                    <select id="operation">
                        <option value="add">+</option>
                        <option value="subtract">-</option>
                        <option value="multiply">√ó</option>
                        <option value="divide">√∑</option>
                    </select>
                    <input type="number" id="num2" placeholder="Second number">
                    <button onclick="calculate()">Calculate</button>
                </div>
                <div class="result" id="calcResult">Result: </div>
            </div>
            <div class="tool-card">
                <h2>Fraction Simplifier</h2>
                <p>Reduce fractions.</p>
                <div class="tool-input">
                    <input type="number" id="numerator" placeholder="Numerator">
                    <span>/</span>
                    <input type="number" id="denominator" placeholder="Denominator">
                    <button onclick="simplifyFraction()">Simplify</button>
                </div>
                <div class="result" id="fracResult">Result: </div>
            </div>
            <div class="tool-card">
                <h2>Quadratic Solver</h2>
                <p>Solve ax¬≤ + bx + c = 0.</p>
                <div class="tool-input">
                    <input type="number" id="quadA" placeholder="a">
                    <input type="number" id="quadB" placeholder="b">
                    <input type="number" id="quadC" placeholder="c">
                    <button onclick="solveQuadratic()">Solve</button>
                </div>
                <div class="result" id="quadResult">Result: </div>
            </div>
            <div class="tool-card">
                <h2>Distance Formula</h2>
                <p>Distance between two points.</p>
                <div class="tool-input">
                    <input type="number" id="x1" placeholder="x‚ÇÅ">
                    <input type="number" id="y1" placeholder="y‚ÇÅ">
                    <input type="number" id="x2" placeholder="x‚ÇÇ">
                    <input type="number" id="y2" placeholder="y‚ÇÇ">
                    <button onclick="calcDistance()">Calculate</button>
                </div>
                <div class="result" id="distResult">Result: </div>
            </div>
            <div class="tool-card">
                <h2>Graphing Tool</h2>
                <p>Plot a line: y = mx + b</p>
                <div class="tool-input">
                    <input type="number" id="slope" placeholder="Slope (m)">
                    <input type="number" id="intercept" placeholder="Intercept (b)">
                    <button onclick="drawGraph()">Graph üìà</button>
                </div>
                <canvas id="graphCanvas" width="300" height="200"></canvas>
                <div class="result" id="graphResult">Result: </div>
            </div>
        </div>
    </div>

    <div class="container" id="puzzles">
        <h2>Math Puzzles</h2>
        <p>Test your wits with these challenges!</p>
        <div id="progressBar">
            <div id="progressFill" style="width: 0%;">0% üåü</div>
        </div>
        <div id="aiTool">
            <h3>AI Puzzle Buddy</h3>
            <p>Ask our "AI" for help!</p>
            <div class="puzzle-input">
                <input type="number" id="aiPuzzleNum" placeholder="Puzzle # (1-10)">
                <input type="number" id="aiAnswer" placeholder="Your Answer">
                <button onclick="askAI()">Ask AI ü§ñ</button>
            </div>
            <div class="result" id="aiResult"></div>
        </div>
        <div class="puzzle-grid">
            <div class="puzzle-card">
                <h2>Puzzle 1: Next in Line</h2>
                <p id="puzzle1Text">What‚Äôs the next number: <span id="puzzle1Seq"></span>?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle1Answer" placeholder="Answer">
                    <button onclick="checkPuzzle1()">Check</button>
                </div>
                <div class="result" id="puzzle1Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Look for a pattern in the differences.')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 2: Fruit Share</h2>
                <p id="puzzle2Text"><span id="puzzle2Total"></span> apples, keep <span id="puzzle2Keep"></span>, share rest among <span id="puzzle2Friends"></span> friends. How many each?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle2Answer" placeholder="Answer">
                    <button onclick="checkPuzzle2()">Check</button>
                </div>
                <div class="result" id="puzzle2Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Subtract what you keep, then divide.')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 3: Magic Square</h2>
                <p id="puzzle3Text">In a 3x3 grid summing to <span id="puzzle3Sum"></span>, if one row is <span id="puzzle3Row"></span>, what‚Äôs <span id="puzzle3Missing"></span>?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle3Answer" placeholder="Answer">
                    <button onclick="checkPuzzle3()">Check</button>
                </div>
                <div class="result" id="puzzle3Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Each row sums to the target number.')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 4: Quadratic Roots</h2>
                <p id="puzzle4Text">If x¬≤ + <span id="puzzle4B"></span>x + <span id="puzzle4C"></span> = 0 has equal roots, what‚Äôs x?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle4Answer" placeholder="Answer">
                    <button onclick="checkPuzzle4()">Check</button>
                </div>
                <div class="result" id="puzzle4Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Equal roots mean discriminant = 0.')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 5: Speed & Time</h2>
                <p id="puzzle5Text">A car travels <span id="puzzle5Dist"></span> km at <span id="puzzle5Speed"></span> km/h. How many hours?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle5Answer" placeholder="Answer">
                    <button onclick="checkPuzzle5()">Check</button>
                </div>
                <div class="result" id="puzzle5Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Time = Distance √∑ Speed.')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 6: Arithmetic Series</h2>
                <p id="puzzle6Text">Sum of first <span id="puzzle6N"></span> terms of <span id="puzzle6Seq"></span>?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle6Answer" placeholder="Answer">
                    <button onclick="checkPuzzle6()">Check</button>
                </div>
                <div class="result" id="puzzle6Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Use sum = n/2 √ó (first + last).')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 7: Geometry Trap</h2>
                <p id="puzzle7Text">A triangle has sides <span id="puzzle7Sides"></span>. Is it right-angled?</p>
                <div class="puzzle-input">
                    <input type="text" id="puzzle7Answer" placeholder="Yes/No">
                    <button onclick="checkPuzzle7()">Check</button>
                </div>
                <div class="result" id="puzzle7Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Check Pythagoras: a¬≤ + b¬≤ = c¬≤.')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 8: Log Puzzle</h2>
                <p id="puzzle8Text">If log‚ÇÇ(<span id="puzzle8Base"></span>) = x, what‚Äôs x?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle8Answer" placeholder="Answer">
                    <button onclick="checkPuzzle8()">Check</button>
                </div>
                <div class="result" id="puzzle8Result">Result: </div>
                <div class="hint" onclick="alert('Hint: 2^x = base.')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 9: Probability</h2>
                <p id="puzzle9Text">A bag has <span id="puzzle9Red"></span> red, <span id="puzzle9Blue"></span> blue balls. Probability of red?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle9Answer" placeholder="Answer">
                    <button onclick="checkPuzzle9()">Check</button>
                </div>
                <div class="result" id="puzzle9Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Red √∑ Total.')">Show Hint ‚ùì</div>
            </div>
            <div class="puzzle-card">
                <h2>Puzzle 10: Equation Pair</h2>
                <p id="puzzle10Text">Solve: x + y = <span id="puzzle10Sum"></span>, x - y = <span id="puzzle10Diff"></span>. What‚Äôs x?</p>
                <div class="puzzle-input">
                    <input type="number" id="puzzle10Answer" placeholder="Answer">
                    <button onclick="checkPuzzle10()">Check</button>
                </div>
                <div class="result" id="puzzle10Result">Result: </div>
                <div class="hint" onclick="alert('Hint: Add equations to find 2x.')">Show Hint ‚ùì</div>
            </div>
        </div>
    </div>

    <div class="container" id="biology">
        <h2>Biology Corner</h2>
        <p>CBSE Biology essentials‚Äîpick your class!</p>
        <div class="puzzle-input">
            <select id="classSelect" onchange="showClassQuestions()">
                <option value="9">Class 9</option>
                <option value="10">Class 10</option>
                <option value="11">Class 11</option>
                <option value="12">Class 12</option>
            </select>
        </div>
        <div class="biology-grid" id="class9Questions">
            <div class="biology-card">
                <h2>Cell Structure</h2>
                <p>Quiz: What‚Äôs the powerhouse of the cell? A) Nucleus B) Mitochondria</p>
                <div class="puzzle-input">
                    <select id="bioQuiz9_1">
                        <option value="">Select</option>
                        <option value="Nucleus">A) Nucleus</option>
                        <option value="Mitochondria">B) Mitochondria</option>
                    </select>
                    <button onclick="checkBioQuiz9_1()">Check</button>
                </div>
                <div class="result" id="bioQuiz9_1Result">Result: </div>
            </div>
            <div class="biology-card">
                <h2>Tissues</h2>
                <p>Quiz: Plant tissue for transport? A) Xylem B) Epidermis</p>
                <div class="puzzle-input">
                    <select id="bioQuiz9_2">
                        <option value="">Select</option>
                        <option value="Xylem">A) Xylem</option>
                        <option value="Epidermis">B) Epidermis</option>
                    </select>
                    <button onclick="checkBioQuiz9_2()">Check</button>
                </div>
                <div class="result" id="bioQuiz9_2Result">Result: </div>
            </div>
        </div>
        <div class="biology-grid" id="class10Questions" style="display: none;">
            <div class="biology-card">
                <h2>Life Processes</h2>
                <p>Quiz: What gas do plants release? A) O‚ÇÇ B) CO‚ÇÇ</p>
                <div class="puzzle-input">
                    <select id="bioQuiz10_1">
                        <option value="">Select</option>
                        <option value="O‚ÇÇ">A) O‚ÇÇ</option>
                        <option value="CO‚ÇÇ">B) CO‚ÇÇ</option>
                    </select>
                    <button onclick="checkBioQuiz10_1()">Check</button>
                </div>
                <div class="result" id="bioQuiz10_1Result">Result: </div>
            </div>
            <div class="biology-card">
                <h2>Heredity</h2>
                <p>Quiz: Dominant trait shows if: A) One parent has it B) Both do</p>
                <div class="puzzle-input">
                    <select id="bioQuiz10_2">
                        <option value="">Select</option>
                        <option value="One">A) One</option>
                        <option value="Both">B) Both</option>
                    </select>
                    <button onclick="checkBioQuiz10_2()">Check</button>
                </div>
                <div class="result" id="bioQuiz10_2Result">Result: </div>
            </div>
        </div>
        <div class="biology-grid" id="class11Questions" style="display: none;">
            <div class="biology-card">
                <h2>Photosynthesis</h2>
                <p>Quiz: Main pigment in chloroplasts? A) Chlorophyll B) Hemoglobin</p>
                <div class="puzzle-input">
                    <select id="bioQuiz11_1">
                        <option value="">Select</option>
                        <option value="Chlorophyll">A) Chlorophyll</option>
                        <option value="Hemoglobin">B) Hemoglobin</option>
                    </select>
                    <button onclick="checkBioQuiz11_1()">Check</button>
                </div>
                <div class="result" id="bioQuiz11_1Result">Result: </div>
            </div>
            <div class="biology-card">
                <h2>Cell Division</h2>
                <p>Quiz: Mitosis results in: A) 2 cells B) 4 cells</p>
                <div class="puzzle-input">
                    <select id="bioQuiz11_2">
                        <option value="">Select</option>
                        <option value="2">A) 2</option>
                        <option value="4">B) 4</option>
                    </select>
                    <button onclick="checkBioQuiz11_2()">Check</button>
                </div>
                <div class="result" id="bioQuiz11_2Result">Result: </div>
            </div>
        </div>
        <div class="biology-grid" id="class12Questions" style="display: none;">
            <div class="biology-card">
                <h2>Genetics</h2>
                <p>Quiz: DNA base pairs with: A) T B) C</p>
                <div class="puzzle-input">
                    <select id="bioQuiz12_1">
                        <option value="">Select</option>
                        <option value="T">A) T</option>
                        <option value="C">B) C</option>
                    </select>
                    <button onclick="checkBioQuiz12_1()">Check</button>
                </div>
                <div class="result" id="bioQuiz12_1Result">Result: </div>
            </div>
            <div class="biology-card">
                <h2>Ecology</h2>
                <p>Quiz: Top of food chain? A) Producers B) Apex Predators</p>
                <div class="puzzle-input">
                    <select id="bioQuiz12_2">
                        <option value="">Select</option>
                        <option value="Producers">A) Producers</option>
                        <option value="Apex Predators">B) Apex Predators</option>
                    </select>
                    <button onclick="checkBioQuiz12_2()">Check</button>
                </div>
                <div class="result" id="bioQuiz12_2Result">Result: </div>
            </div>
        </div>
    </div>

    <footer id="about" class="container">
        <p>MathHaven - Your CBSE & JEE prep hub! üåç</p>
    </footer>

    <script>
        // Tab Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.container').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            if (sectionId === 'puzzles') generatePuzzles();
        }

        // Theme Switcher
        const themeSelect = document.getElementById("themeSelect");
        themeSelect.addEventListener("change", () => {
            document.body.className = themeSelect.value;
        });

        // Tool Functions
        function calculate() {
            const num1 = parseFloat(document.getElementById("num1").value);
            const num2 = parseFloat(document.getElementById("num2").value);
            const operation = document.getElementById("operation").value;
            let result = isNaN(num1) || isNaN(num2) ? "Enter valid numbers. ü§î" : 
                operation === "add" ? num1 + num2 :
                operation === "subtract" ? num1 - num2 :
                operation === "multiply" ? num1 * num2 :
                operation === "divide" && num2 !== 0 ? (num1 / num2).toFixed(4) : "Cannot divide by zero. üö´";
            document.getElementById("calcResult").textContent = `Result: ${result} ‚úÖ`;
        }

        function simplifyFraction() {
            const num = parseInt(document.getElementById("numerator").value);
            const den = parseInt(document.getElementById("denominator").value);
            if (isNaN(num) || isNaN(den) || den === 0) {
                document.getElementById("fracResult").textContent = "Result: Enter valid numbers (denominator ‚â† 0). ü§î";
                return;
            }
            const gcd = (a, b) => b === 0 ? a : gcd(b, a % b);
            const divisor = gcd(Math.abs(num), Math.abs(den));
            document.getElementById("fracResult").textContent = `Result: ${num / divisor}/${den / divisor} üéâ`;
        }

        function solveQuadratic() {
            const a = parseFloat(document.getElementById("quadA").value);
            const b = parseFloat(document.getElementById("quadB").value);
            const c = parseFloat(document.getElementById("quadC").value);
            if (isNaN(a) || isNaN(b) || isNaN(c) || a === 0) {
                document.getElementById("quadResult").textContent = "Result: Enter valid numbers (a ‚â† 0). ü§î";
                return;
            }
            const disc = b * b - 4 * a * c;
            let result = disc >= 0 ? `Roots: ${((-b + Math.sqrt(disc)) / (2 * a)).toFixed(2)}, ${((-b - Math.sqrt(disc)) / (2 * a)).toFixed(2)}` : "No real roots. üö´";
            document.getElementById("quadResult").textContent = `Result: ${result} ‚úÖ`;
        }

        function calcDistance() {
            const x1 = parseFloat(document.getElementById("x1").value);
            const y1 = parseFloat(document.getElementById("y1").value);
            const x2 = parseFloat(document.getElementById("x2").value);
            const y2 = parseFloat(document.getElementById("y2").value);
            if (isNaN(x1) || isNaN(y1) || isNaN(x2) || isNaN(y2)) {
                document.getElementById("distResult").textContent = "Result: Enter valid coordinates. ü§î";
                return;
            }
            const dist = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
            document.getElementById("distResult").textContent = `Result: ${dist.toFixed(2)} units ‚úÖ`;
        }

        function drawGraph() {
            const m = parseFloat(document.getElementById("slope").value) || 0;
            const b = parseFloat(document.getElementById("intercept").value) || 0;
            const canvas = document.getElementById("graphCanvas");
            const ctx = canvas.getContext("2d");
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.moveTo(0, 100 - b * 10);
            ctx.lineTo(300, 100 - (m * 30 + b) * 10);
            ctx.strokeStyle = "#40916c";
            ctx.lineWidth = 2;
            ctx.stroke();
            document.getElementById("graphResult").textContent = isNaN(m) || isNaN(b) ? "Result: Enter numbers. ü§î" : `Result: y = ${m}x + ${b} plotted! üìà`;
        }

        // Home Functions
        function solveHomeQuadratic() {
            const a = parseFloat(document.getElementById("homeQuadA").value);
            const b = parseFloat(document.getElementById("homeQuadB").value);
            const c = parseFloat(document.getElementById("homeQuadC").value);
            if (isNaN(a) || isNaN(b) || isNaN(c) || a === 0) {
                document.getElementById("homeQuadResult").textContent = "Result: Enter valid numbers (a ‚â† 0). ü§î";
                return;
            }
            const disc = b * b - 4 * a * c;
            let result = disc >= 0 ? `Roots: ${((-b + Math.sqrt(disc)) / (2 * a)).toFixed(2)}, ${((-b - Math.sqrt(disc)) / (2 * a)).toFixed(2)}` : "No real roots. üö´";
            document.getElementById("homeQuadResult").textContent = `Result: ${result} ‚úÖ`;
        }

        function checkHomePuzzle() {
            const answer = parseInt(document.getElementById("homePuzzleAnswer").value);
            const resultEl = document.getElementById("homePuzzleResult");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === 10 ? "Correct! (+2 pattern) üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        // Puzzle Progress
        let solvedCount = 0;
        function updateProgress() {
            const progress = (solvedCount / 10) * 100; // 10 puzzles now
            const fill = document.getElementById("progressFill");
            fill.style.width = `${progress}%`;
            fill.textContent = `${progress}% ${progress < 50 ? 'üåü' : progress < 80 ? 'üöÄ' : 'üèÜ'}`;
        }

        // Dynamic Puzzle Generator
        function generatePuzzles() {
            // Puzzle 1
            const start = Math.floor(Math.random() * 10) + 1;
            document.getElementById("puzzle1Seq").textContent = `${start}, ${start + 2}, ${start + 4}, ${start + 6}`;
            window.puzzle1Answer = start + 8;

            // Puzzle 2
            const total = Math.floor(Math.random() * 20) + 10;
            const keep = Math.floor(Math.random() * 5) + 1;
            const friends = Math.floor(Math.random() * 4) + 2;
            document.getElementById("puzzle2Total").textContent = total;
            document.getElementById("puzzle2Keep").textContent = keep;
            document.getElementById("puzzle2Friends").textContent = friends;
            window.puzzle2Answer = Math.floor((total - keep) / friends);

            // Puzzle 3
            const sum = Math.floor(Math.random() * 20) + 10;
            const row = [Math.floor(Math.random() * (sum - 3)) + 1, Math.floor(Math.random() * (sum - 2)) + 1];
            const missing = sum - row[0] - row[1];
            if (missing > 0) {
                document.getElementById("puzzle3Sum").textContent = sum;
                document.getElementById("puzzle3Row").textContent = `${row[0]}, ${row[1]}, ${sum - row[0] - row[1]}`;
                document.getElementById("puzzle3Missing").textContent = `${row[0]}, ${row[1]}`;
                window.puzzle3Answer = missing;
            } else generatePuzzles(); // Regenerate if invalid

            // Puzzle 4
            const b = Math.floor(Math.random() * 10) + 1;
            const c = (b * b) / 4; // Equal roots: b¬≤ = 4ac, a=1
            document.getElementById("puzzle4B").textContent = b;
            document.getElementById("puzzle4C").textContent = c;
            window.puzzle4Answer = -b / 2;

            // Puzzle 5
            const dist = Math.floor(Math.random() * 100) + 50;
            const speed = Math.floor(Math.random() * 20) + 10;
            document.getElementById("puzzle5Dist").textContent = dist;
            document.getElementById("puzzle5Speed").textContent = speed;
            window.puzzle5Answer = dist / speed;

            // Puzzle 6
            const n = Math.floor(Math.random() * 10) + 5;
            const seqStart = Math.floor(Math.random() * 10) + 1;
            document.getElementById("puzzle6N").textContent = n;
            document.getElementById("puzzle6Seq").textContent = `${seqStart}, ${seqStart + 2}, ${seqStart + 4}, ...`;
            window.puzzle6Answer = (n / 2) * (seqStart + (seqStart + 2 * (n - 1)));

            // Puzzle 7
            const sides = [Math.floor(Math.random() * 10) + 3, Math.floor(Math.random() * 10) + 3, Math.floor(Math.random() * 10) + 3];
            sides.sort((a, b) => a - b);
            document.getElementById("puzzle7Sides").textContent = `${sides[0]}, ${sides[1]}, ${sides[2]}`;
            window.puzzle7Answer = (sides[0] * sides[0] + sides[1] * sides[1] === sides[2] * sides[2]) ? "Yes" : "No";

            // Puzzle 8
            const base = Math.pow(2, Math.floor(Math.random() * 5) + 1);
            document.getElementById("puzzle8Base").textContent = base;
            window.puzzle8Answer = Math.log2(base);

            // Puzzle 9
            const red = Math.floor(Math.random() * 10) + 1;
            const blue = Math.floor(Math.random() * 10) + 1;
            document.getElementById("puzzle9Red").textContent = red;
            document.getElementById("puzzle9Blue").textContent = blue;
            window.puzzle9Answer = red / (red + blue);

            // Puzzle 10
            const sum = Math.floor(Math.random() * 20) + 10;
            const diff = Math.floor(Math.random() * 10) + 2;
            document.getElementById("puzzle10Sum").textContent = sum;
            document.getElementById("puzzle10Diff").textContent = diff;
            window.puzzle10Answer = (sum + diff) / 2;
        }

        // Puzzle Functions
        function checkPuzzle1() {
            const answer = parseInt(document.getElementById("puzzle1Answer").value);
            const resultEl = document.getElementById("puzzle1Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === window.puzzle1Answer ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle2() {
            const answer = parseInt(document.getElementById("puzzle2Answer").value);
            const resultEl = document.getElementById("puzzle2Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === window.puzzle2Answer ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle3() {
            const answer = parseInt(document.getElementById("puzzle3Answer").value);
            const resultEl = document.getElementById("puzzle3Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === window.puzzle3Answer ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle4() {
            const answer = parseInt(document.getElementById("puzzle4Answer").value);
            const resultEl = document.getElementById("puzzle4Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === window.puzzle4Answer ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle5() {
            const answer = parseInt(document.getElementById("puzzle5Answer").value);
            const resultEl = document.getElementById("puzzle5Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === window.puzzle5Answer ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle6() {
            const answer = parseInt(document.getElementById("puzzle6Answer").value);
            const resultEl = document.getElementById("puzzle6Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === window.puzzle6Answer ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle7() {
            const answer = document.getElementById("puzzle7Answer").value.trim().toLowerCase();
            const resultEl = document.getElementById("puzzle7Result");
            const result = !answer ? "Enter Yes/No. ü§î" : answer === window.puzzle7Answer.toLowerCase() ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle8() {
            const answer = parseInt(document.getElementById("puzzle8Answer").value);
            const resultEl = document.getElementById("puzzle8Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === window.puzzle8Answer ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle9() {
            const answer = parseFloat(document.getElementById("puzzle9Answer").value);
            const resultEl = document.getElementById("puzzle9Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : Math.abs(answer - window.puzzle9Answer) < 0.01 ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        function checkPuzzle10() {
            const answer = parseInt(document.getElementById("puzzle10Answer").value);
            const resultEl = document.getElementById("puzzle10Result");
            const result = isNaN(answer) ? "Enter a number. ü§î" : answer === window.puzzle10Answer ? "Correct! üéâ" : "Try again. ü§î";
            resultEl.textContent = `Result: ${result}`;
            if (result.startsWith("Correct") && !resultEl.classList.contains("solved")) {
                solvedCount++;
                resultEl.classList.add("solved");
                updateProgress();
            }
            if (result.startsWith("Correct")) resultEl.classList.add("correct");
            setTimeout(() => resultEl.classList.remove("correct"), 500);
        }

        // Fake AI Tool
        function askAI() {
            const puzzleNum = parseInt(document.getElementById("aiPuzzleNum").value);
            const answer = parseFloat(document.getElementById("aiAnswer").value);
            const resultEl = document.getElementById("aiResult");
            resultEl.textContent = "AI: Processing‚Ä¶ ü§ñ Beep!";
            setTimeout(() => {
                if (isNaN(puzzleNum) || puzzleNum < 1 || puzzleNum > 10 || isNaN(answer)) {
                    resultEl.textContent = "AI: Invalid input! Enter puzzle # (1-10) and answer. ü§î";
                } else {
                    const answers = [
                        window.puzzle1Answer, window.puzzle2Answer, window.puzzle3Answer, window.puzzle4Answer, window.puzzle5Answer,
                        window.puzzle6Answer, window.puzzle7Answer.toLowerCase(), window.puzzle8Answer, window.puzzle9Answer, window.puzzle10Answer
                    ];
                    const hints = [
                        "AI: 92% chance you‚Äôre close! Check the sequence. üìà",
                        "AI: 87% confidence you‚Äôre near! Split the leftovers. üçé",
                        "AI: 95% sure you‚Äôre on track! Sum to the target. üî¢",
                        "AI: 89% probability you‚Äôre close! Discriminant = 0. üìê",
                        "AI: 94% certainty you‚Äôre near! Time = Distance √∑ Speed. ‚è≥",
                        "AI: 90% chance you‚Äôre close! Sum the series. üî¢",
                        "AI: 88% sure you‚Äôre near! Pythagoras holds the key. üìè",
                        "AI: 91% probability you‚Äôre close! 2^x = base. üìà",
                        "AI: 93% confidence in you! Red √∑ Total. üé≤",
                        "AI: 89% chance you‚Äôre near! Add equations for 2x. üîç"
                    ];
                    const correctAnswer = answers[puzzleNum - 1];
                    const hint = hints[puzzleNum - 1];
                    resultEl.textContent = answer === correctAnswer ? `AI: Correct! Neural net approves! üéâ` : 
                        Math.abs(answer - correctAnswer) <= (typeof correctAnswer === 'number' ? 2 : 0) ? hint : 
                        `AI: ${Math.floor(Math.random() * 20) + 60}% error probability. Rethink it! ü§ì`;
                }
            }, 1000);
        }

        // Biology Class Switcher
        function showClassQuestions() {
            const classNum = document.getElementById("classSelect").value;
            document.querySelectorAll('.biology-grid').forEach(grid => {
                grid.style.display = grid.id === `class${classNum}Questions` ? 'grid' : 'none';
            });
        }

        // Biology Quizzes
        function checkBioQuiz9_1() {
            const answer = document.getElementById("bioQuiz9_1").value;
            document.getElementById("bioQuiz9_1Result").textContent = answer === "Mitochondria" ? "Result: Correct! Powerhouse found. üîã" : "Result: Try again! ü§î";
        }

        function checkBioQuiz9_2() {
            const answer = document.getElementById("bioQuiz9_2").value;
            document.getElementById("bioQuiz9_2Result").textContent = answer === "Xylem" ? "Result: Correct! Water mover. üå±" : "Result: Try again! ü§î";
        }

        function checkBioQuiz10_1() {
            const answer = document.getElementById("bioQuiz10_1").value;
            document.getElementById("bioQuiz10_1Result").textContent = answer === "O‚ÇÇ" ? "Result: Correct! Plants release oxygen. üå±" : "Result: Try again! ü§î";
        }

        function checkBioQuiz10_2() {
            const answer = document.getElementById("bioQuiz10_2").value;
            document.getElementById("bioQuiz10_2Result").textContent = answer === "One" ? "Result: Correct! One parent is enough. üß¨" : "Result: Try again! ü§î";
        }

        function checkBioQuiz11_1() {
            const answer = document.getElementById("bioQuiz11_1").value;
            document.getElementById("bioQuiz11_1Result").textContent = answer === "Chlorophyll" ? "Result: Correct! Green power. üåø" : "Result: Try again! ü§î";
        }

        function checkBioQuiz11_2() {
            const answer = document.getElementById("bioQuiz11_2").value;
            document.getElementById("bioQuiz11_2Result").textContent = answer === "2" ? "Result: Correct! Mitosis doubles up. üß¨" : "Result: Try again! ü§î";
        }

        function checkBioQuiz12_1() {
            const answer = document.getElementById("bioQuiz12_1").value;
            document.getElementById("bioQuiz12_1Result").textContent = answer === "T" ? "Result: Correct! A pairs with T. üß¨" : "Result: Try again! ü§î";
        }

        function checkBioQuiz12_2() {
            const answer = document.getElementById("bioQuiz12_2").value;
            document.getElementById("bioQuiz12_2Result").textContent = answer === "Apex Predators" ? "Result: Correct! Top dogs rule. ü¶Å" : "Result: Try again! ü§î";
        }

        // Generate puzzles on load
        generatePuzzles();
    </script>
</body>
</html>